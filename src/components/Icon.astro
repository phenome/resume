---
import type { ImageMetadata } from 'astro'

interface Props {
  svg: string
}
const { svg } = Astro.props

const images = import.meta.glob<{ default: ImageMetadata }>(
  '/src/assets/icons/*.svg'
)

const { default: imgData } =
  (await images[`/src/assets/icons/${svg}.svg`]?.()) ?? {}
if (!imgData) throw new Error(`Icon ${svg} not found`)
---

<img src={imgData.src} alt={svg} class="icon-asset" />
